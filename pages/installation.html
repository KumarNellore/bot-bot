<meta charset='utf-8'>

  <style type="text/css">
    body {
      margin-top: 1.0em;
      background-color: #FFFFFF;
      font-family: Helvetica, Arial, FreeSans, san-serif;
      color: #000000;
    }
    #container {
      margin: 0 auto;
      width: 900px;
    }
    h1 { font-size: 3.8em; color: #5a2f4e; margin-bottom: 3px; }
    h1 .medium{ font-size: 0.9em; color: #5a2f4e; margin-bottom: 3px; }
    h1 .small { font-size: 0.4em; }
    h1 .smallest { font-size: 0.3em; }
    h1 a { text-decoration: none }
    h2 { font-size: 1.5em; color: #5a2f4e; }
    h3 { text-align: left; color: #5a2f4e; }
    a { color: #5a2f4e; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
    pre { background: #FFFFFF; color: #000000; font-family: Helvetica, Arial, FreeSans, san-serif;}
    pre.code { font-family: Helvetica, Arial, FreeSans, san-serif; color: #000000; background-color: #eee;font-size: 15px;border: 1px dashed #999999;line-height: 15px;padding: 5px; overflow: auto; width: 95% }
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
  </style>
<body>
<a href="https://github.com/Imaginea/bot-bot"  target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0;height:100px;width:100px;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
  <div id="container">

    <div class="download">
      <a href="https://github.com/Imaginea/bot-bot/zipball/master">
        <img border="0" width="80" src="https://github.com/images/modules/download/zip.png"></a>
      <a href="https://github.com/Imaginea/bot-bot/tarball/master">
        <img border="0" width="80" src="https://github.com/images/modules/download/tar.png"></a>
    </div>
<h1><span class="medium"><a href="https://github.com/Imaginea/bot-bot">bot-bot</a></span>
      <span class="small">by <a href="https://github.com/Imaginea">Imaginea</a></span></br><span class="smallest">Selenium like automation framework for native android applications.</span></h1>
</div></br>
    <h2>How to install and use bot-bot</h2>
<hr/>
<h2>
	<u><a name="server">Server</a></u>
</h2>
<h3>Download</h3>

<p>You can download the latest release Server from the download section mentioned below:</p>

<a href="https://github.com/Imaginea/bot-bot/downloads" target="_blank">https://github.com/Imaginea/bot-bot/downloads</a>

<p>The server folder under the zip contains two files one is a "bot-bot-server.war" and another is "bot-bot-server-standalone.jar". You can read the "Deploy the war" section below on how to deploy the server using these files.
</p>

<h3>Deploy the war:</h3>
<p>The war is self contained including the database.</p>
<p>The war can be deployed in two ways:</p>
<ol>
<li><p>As a standalone server.</p>
<p>
	To deploy the bot-bot server as a standalone server, go to the target folder under the root after running "mvn clean install".
	You will find a file with name "bot-bot-server-standalone.jar". Run the following command in the command prompt after going to the said folder.
</p>
	<pre style="font-family: Helvetica, Arial, FreeSans, san-serif; color: #000000; background-color: #eee;font-size: 15px;border: 1px dashed #999999;line-height: 15px;padding: 5px; overflow: auto; width: 80%"><code>java -jar bot-bot-server-standalone.jar
</code></pre>

	This will start the standalone bot-bot server. The server can be accessed using the url "http://localhost:8080/index.html".</li>

<li>
<p> Using a servlet container like <em>Apache Tomcat</em>, <em>Jboss</em>, etc.</p>
<p>To deploy the war on a servlet container do the following:</p>
<ul>
<li>Create the war as mentioned in the <em>Build the war</em> section.</li>
<li>Copy the war from the target folder under the bot-bot/server to the webapps folder of your serrvlet container.</li>
<li>Start your server.</li>
<li>Access the server using the following URL
<p>http://&lt;localhost or systemip&gt;:&lt;port&gt;/bot-bot-server/index.html</p>
</li>
</ul>
</li>
</ol>
<hr/>
<h2>
	<u><a name="recorder">Recorder</a></u>
</h2>
<h3>Pre-conditions:</h3>
<ol>
<li>Android SDK has been installed. More info is available at link <a href="http://developer.android.com/sdk/installing.html">link</a></li>
<li>Apache ant needs is installed. <a href="http://ant.apache.org/">Click here</a> for more info.</li>
<li>Install one of the android SDK platform using the Android SDK managers.</li>
<li>".apk" file of the app that you want to test is available.</li>
</ol>

<h3>Installation:</h3>
<ol>
<li>Set the "ANDROID_HOME" enviornment variable to the Android SDK installation directory on your system ex. "/opt/softwares/android-sdk-linux"</li>
<li>Set the tools and platform-tools folder path to your enviornment PATH. ex. "/opt/softwares/android-sdk-linux/tools" & "/opt/softwares/android-sdk-linux/platform-tools"</li>
<li>Open *default.properties* file under the recoder folder and replace the values for the following:</li>
<ul>
	<li>TEST_APK_FILENAME -> test apk file path.</li>
	<li>key.store -> path to your keystore file to be used for signing the andorid application. Once you had installed Androdi SDK and configured a simulator this key store file will be automatically generated in your user home directory under *android* fodler.</li>
	<li>key.store.password -> password of your keystore</li>
	<li>key.alias -> Alias for you keystore file</li>
	<li>key.alias.password -> Password of your keystore alias.</br>
	    In case you want to use the default keystore file please dont change the above keystore related values in the properties file.</li>
 </ul>

<li>Open command prompt and go to the bot-bot/runner folder.Type the command <b>ant</b>, this will automatically take your apk file, compile it with recorder code, resign it and install it to your emulator or device whichever is running.</li>
</ol>
<p><strong>Note: </strong> Currently <em>Recorder</em> will only record user events if the server is running in the same machine where the android simulator is running.</p>
<hr/>
<h2>
	<u><a name="runner">Runner</a></u>
</h2>
<h3>Pre-conditions:</h3>
<ol>
<li>Android SDK has been installed. More info is available at link <a href="http://developer.android.com/sdk/installing.html">link</a></li>
<li>Apache ant needs is installed. <a href="http://ant.apache.org/">Click here</a> for more info.</li>
<li>Install one of the android SDK platform using the Android SDK managers.</li>
<li>".apk" file of the app that you want to test is available.</li>
</ol>

<h3>Installation:</h3>
Runner supports 2 different frameworks at this moment <b>Robotium</b> & <b>NativeDriver</b>. Each have a different setup instructions as mentioned below.
<h4>Robotium</h4>
<ol>
<li>Open the resources/default.properties file and change the following values:</li>
<ul>
      <li>FRAMEWORK -> The framework that you want to use for your execution <b><i>robotium</i></b> or <b><i>nativedriver</i></b>. Default is "robotium".</li>
      <li>TESTCASE_FOLDER -> test-case folder name under *testcase* where you have your test-cases in csv format.</li>
      <li>TEST_APK_FILENAME -> Apk file path of the application that needs to be tested.</li>
      <li>APP_PACKAGE -> The app package name.</li>
      <li>DEFAULT_ACTIVITY -> Default lanch activity.</li>
      <li>key.store -> path to your keystore file to be used for signing the andorid application. Once you had installed Androdi SDK and configured a simulator this key store file will be automatically generated in your user home directory under *android* fodler.</li>
      <li>key.store.password -> password of your keystore.</li>
      <li>key.alias -> Alias for you keystore file.</li>
      <li>key.alias.password -> Password of your keystore alias.</br>
	In case you want to use the default keystore file please dont change the above keystore related values in the properties file.</br>
 	</br>For finding the values of <i>APP_PACKAGE</i> & <i>DEFAULT_ACTIVITY</i> variables install your application on an emulator and start the application. And then watch the adb logs by typing the command *adb logcat*. And look for the following:</br>
	<pre style="font-family: Helvetica, Arial, FreeSans, san-serif; color: #000000; background-color: #eee;font-size: 15px;border: 1px dashed #999999;line-height: 15px;padding: 5px; overflow: auto; width: 100%"><code>"Starting activity: Intent { act=android.intent.action.MAIN cat=android.intent.category.LAUNCHER? flg=0x10200000 cmp=com.example.android/.DefaultLauncherActivity"</code></pre>
	From the above <i>APP_PACKAGE</i> will be *com.example.android* and <i>DEFAULT_ACTIVITY</i> will be *DefaultLauncherActivity*.</li>
	</ul>
<li>Set the "ANDROID_HOME" enviornment variable to the Android SDK installation directory on your system ex. "/opt/softwares/android-sdk-linux"</li>
<li>Set the tools and platform-tools folder path to your enviornment PATH. ex. "/opt/softwares/android-sdk-linux/tools" & "/opt/softwares/android-sdk-linux/platform-tools"</li>
<li>Create a folder for you test-case csv files and place it under <b><i>testcases</i></b> folder under the root of the <b><i>runner</i></b>.</li>
<li>From the command-shell go to the <b><i>bot-bot/runner</i></b> folder and type the follwing command.</li>
<pre style="font-family: Helvetica, Arial, FreeSans, san-serif; color: #000000; background-color: #eee;font-size: 15px;border: 1px dashed #999999;line-height: 15px;padding: 5px; overflow: auto; width: 30%"><code>ant</code></pre>
Bot-bot will execute your test-cases on the said app and will give you a report of the execution.
</ol>

<h4>NativeDriver</h4>
<ol>
<li>Export the bot-bot from git to your local system.</li>
<li>Import the source code of the android app that needs to be installed into your eclipse IDE.</li>
<li>Copy the "server-standalone.jar" from the bot-bot/runner/lib folder to the root of the Android project inside Eclipse IDE.</li>
<li>
<p>Open the AndroidManifest.xml file of your Android app and paste the following to it:</p>
<p><pre class="code"><code>&lt;instrumentation android:targetPackage=&quot;{app package name}&quot;
    android:name=&quot;com.google.android.testing.nativedriver.server.ServerInstrumentation&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.DISABLE_KEYGUARD&quot; /&gt;
</code></pre>
Here the {app package name} needs to be replaced with the name of the package as specified in the mainfest element's package attribute.</p>
</li>
<li>
<p>Build and install the android app on to the simulator.</p>
</li>
<li>
<p>Go to the android sdk installation folder and inside it to platform-tools. Then run the following commands:
    <pre class="code"><code> adb shell am instrument {app_package_name}/com.google.android.testing.nativedriver.server.ServerInstrumentation</code></pre></p>
<p>Here {app_package_name} needs to be replaced with the name of the package as specified in the mainfest element's package attribute.</p>
<p><pre class="code"><code>adb forward tcp:54129 tcp:54129</code></pre></p>
<p>You can confirm that the instrumentation is started by running adb logcat and looking for a line like this:</p>
<p><pre class="code"><code>I/com.google.android.testing.nativedriver.server.ServerInstrumentation(  273): Jetty started on port 54129</code></pre></p>
</li>
<li>
<p>Package name and initial activity name has to be defined in the "default.properties" file under the "resources" folder. This will allow bot-bot to initialize the said activity before each test-method execution.</p>
</li>
<li>
<p>Run the ant command at the root of the andro_auto_framework directory:</p>
<p><pre class="code"><code>ant</code></pre></p>
<p>This will compile your code and execute your test cases. Currently TestNG , Junit &amp; TestNG-xslt report are generated for the test execution.</p>
</li>
</ol>
<script type="text/javascript" src="../analytics.js"></script>
</body>
